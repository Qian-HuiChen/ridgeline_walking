This algorithm is written in python. 
The sample code can be viewed in jupyter notebook.
An example image (young star mass map of Auriga Halo~23 L3 at z = 0) is given.
